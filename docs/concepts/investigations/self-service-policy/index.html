<!doctype html><html itemscope itemtype=http://schema.org/WebPage lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.104.1"><meta name=robots content="index, follow"><link rel="shortcut icon" href=/favicons/favicon.ico><link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/favicons/android-192x192.png sizes=192x192><title>Self-service policy | kcp – a Kubernetes-like multi-tenant control plane</title><meta name=description content="Improve consistency and reusability of self-service and policy enforcement across multiple Kubernetes clusters.
"><meta property="og:title" content="Self-service policy"><meta property="og:description" content="Improve consistency and reusability of self-service and policy enforcement across multiple Kubernetes clusters.
"><meta property="og:type" content="article"><meta property="og:url" content="http://kcp-dev.github.io/docs/concepts/investigations/self-service-policy/"><meta property="article:section" content="docs"><meta property="og:site_name" content="kcp – a Kubernetes-like multi-tenant control plane"><meta itemprop=name content="Self-service policy"><meta itemprop=description content="Improve consistency and reusability of self-service and policy enforcement across multiple Kubernetes clusters.
"><meta itemprop=wordCount content="740"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="Self-service policy"><meta name=twitter:description content="Improve consistency and reusability of self-service and policy enforcement across multiple Kubernetes clusters.
"><link rel=preload href=/scss/main.min.c65bd9d7eb2baaad4d2c30a0905cadbf15f5bd43173d18c70d61a6eee706a020.css as=style><link href=/scss/main.min.c65bd9d7eb2baaad4d2c30a0905cadbf15f5bd43173d18c70d61a6eee706a020.css rel=stylesheet integrity><script src=https://code.jquery.com/jquery-3.6.0.min.js integrity=sha384-vtXRMe3mGCbOeY7l30aIg8H9p3GdeSe4IFlP6G8JMa7o7lXvnz3GFKzPxzJdPfGK crossorigin=anonymous></script>
<script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-00000000-0","auto"),ga("send","pageview"))</script><script async src=https://www.google-analytics.com/analytics.js></script></head><body class=td-page><header><nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-sm-row td-navbar"><a class="navbar-brand mr-2" style=display:flex;justify-content:center href=/><img class=navbar-logo src=/logo.png width=38px alt=logo></a>
<a class=navbar-brand style=display:flex;justify-content:center href=/><span class="font-weight-bold d-none d-sm-inline d-lg-none" style=font-size:.875rem>kcp</span>
<span class="font-weight-bold d-none d-lg-inline">kcp</span></a><div class="td-navbar-nav-scroll ml-sm-auto mt-0" id=main_navbar><ul class="navbar-nav mt-0"><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/blog/><span>Blog</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=https://github.com/kcp-dev/kcp/blob/main/CONTRIBUTING.md target=_blank><span>Contribute</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=https://github.com/kcp-dev/kcp/ target=_blank><span>GitHub</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class="nav-link active" href=/docs/><span class=active>Documentation</span></a></li></ul></div><div class="navbar-nav d-none d-lg-block"><input type=search class="form-control td-search-input" placeholder="&#xf002; Search this site…" aria-label="Search this site…" autocomplete=off></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><div id=td-sidebar-menu class=td-sidebar__inner><div id=content-mobile><form class="td-sidebar__search d-flex align-items-center"><input type=search class="form-control td-search-input" placeholder="&#xf002; Search this site…" aria-label="Search this site…" autocomplete=off>
<button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type=button data-toggle=collapse data-target=#td-section-nav aria-controls=td-section-nav aria-expanded=false aria-label="Toggle section navigation"></button></form></div><div id=content-desktop></div><nav class="collapse td-sidebar-nav" id=td-section-nav><ul class="td-sidebar-nav__section pr-md-3 ul-0"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-docs-li><a href=/docs/ title="Welcome to kcp Documentation" class="align-left pl-0 td-sidebar-link td-sidebar-link__section tree-root" id=m-docs><span>Documentation</span></a><ul class=ul-1><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsgetting-started-li><a href=/docs/getting-started/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docsgetting-started><span>Getting Started</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-docsconcepts-li><a href=/docs/concepts/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docsconcepts><span>kcp Concepts</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsconceptsauthorization-li><a href=/docs/concepts/authorization/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsauthorization><span>Authorization</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsconceptscache-server-li><a href=/docs/concepts/cache-server/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsconceptscache-server><span>Cache Server</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsconceptscluster-mapper-li><a href=/docs/concepts/cluster-mapper/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsconceptscluster-mapper><span>Cluster Mapper</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsconceptslocations-and-scheduling-li><a href=/docs/concepts/locations-and-scheduling/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsconceptslocations-and-scheduling><span>Placement, Locations and Scheduling</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsconceptssyncer-li><a href=/docs/concepts/syncer/ title="Registering Kubernetes Clusters using syncer" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsconceptssyncer><span>Syncer</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsconceptsquickstart-tenancy-and-apis-li><a href=/docs/concepts/quickstart-tenancy-and-apis/ title="Quickstart: Tenancy and APIs" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsquickstart-tenancy-and-apis><span>Tenancy and APIs</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsconceptsconcepts-li><a href=/docs/concepts/concepts/ title="Terminology for control plane" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsconcepts><span>Terminology</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsconceptsvirtual-workspaces-li><a href=/docs/concepts/virtual-workspaces/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsvirtual-workspaces><span>Virtual Workspaces</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsconceptsworkspaces-li><a href=/docs/concepts/workspaces/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsworkspaces><span>Workspaces</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsconceptsdevelopers-li><a href=/docs/concepts/developers/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docsconceptsdevelopers><span>Developers</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsconceptsdeveloperscontrollers-li><a href=/docs/concepts/developers/controllers/ title="Writing kcp-aware controllers" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsdeveloperscontrollers><span>kcp-aware controllers</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsconceptsdeveloperslibrary-usage-li><a href=/docs/concepts/developers/library-usage/ title="Using `kcp` as a library" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsdeveloperslibrary-usage><span>Library Usage</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsconceptsdevelopersreleasing-li><a href=/docs/concepts/developers/releasing/ title="Publishing a new kcp release" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsdevelopersreleasing><span>Publishing</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-docsconceptsinvestigations-li><a href=/docs/concepts/investigations/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docsconceptsinvestigations><span>Investigations</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsconceptsinvestigationslogical-clusters-li><a href=/docs/concepts/investigations/logical-clusters/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsinvestigationslogical-clusters><span>Logical clusters</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsconceptsinvestigationsminimal-api-server-li><a href=/docs/concepts/investigations/minimal-api-server/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsinvestigationsminimal-api-server><span>Minimal API Server</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child active-path" id=m-docsconceptsinvestigationsself-service-policy-li><a href=/docs/concepts/investigations/self-service-policy/ class="align-left pl-0 active td-sidebar-link td-sidebar-link__page" id=m-docsconceptsinvestigationsself-service-policy><span class=td-sidebar-nav-active-item>Self-service policy</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsconceptsinvestigationstransparent-multi-cluster-li><a href=/docs/concepts/investigations/transparent-multi-cluster/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsinvestigationstransparent-multi-cluster><span>Transparent multi-cluster</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsconceptskubectl-kcp-plugin-li><a href=/docs/concepts/kubectl-kcp-plugin/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsconceptskubectl-kcp-plugin><span></span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docscli-reference-li><a href=/docs/cli-reference/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docscli-reference><span>CLI Reference</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docscli-referencekcp-li><a href=/docs/cli-reference/kcp/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docscli-referencekcp><span>kcp</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docscli-referencekcp_crd-li><a href=/docs/cli-reference/kcp_crd/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docscli-referencekcp_crd><span>kcp crd</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docscli-referencekcp_crd_snapshot-li><a href=/docs/cli-reference/kcp_crd_snapshot/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docscli-referencekcp_crd_snapshot><span>kcp crd snapshot</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docscli-referencekcp_workload-li><a href=/docs/cli-reference/kcp_workload/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docscli-referencekcp_workload><span>kcp workload</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docscli-referencekcp_workload_cordon-li><a href=/docs/cli-reference/kcp_workload_cordon/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docscli-referencekcp_workload_cordon><span>kcp workload cordon</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docscli-referencekcp_workload_drain-li><a href=/docs/cli-reference/kcp_workload_drain/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docscli-referencekcp_workload_drain><span>kcp workload drain</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docscli-referencekcp_workload_sync-li><a href=/docs/cli-reference/kcp_workload_sync/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docscli-referencekcp_workload_sync><span>kcp workload sync</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docscli-referencekcp_workload_uncordon-li><a href=/docs/cli-reference/kcp_workload_uncordon/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docscli-referencekcp_workload_uncordon><span>kcp workload uncordon</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docscli-referencekcp_workspace-li><a href=/docs/cli-reference/kcp_workspace/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docscli-referencekcp_workspace><span>kcp workspace</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docscli-referencekcp_workspace_create-li><a href=/docs/cli-reference/kcp_workspace_create/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docscli-referencekcp_workspace_create><span>kcp workspace create</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docscli-referencekcp_workspace_create-context-li><a href=/docs/cli-reference/kcp_workspace_create-context/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docscli-referencekcp_workspace_create-context><span>kcp workspace create-context</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docscli-referencekcp_workspace_current-li><a href=/docs/cli-reference/kcp_workspace_current/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docscli-referencekcp_workspace_current><span>kcp workspace current</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docscli-referencekcp_workspace_tree-li><a href=/docs/cli-reference/kcp_workspace_tree/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docscli-referencekcp_workspace_tree><span>kcp workspace tree</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docscli-referencekcp_workspace_use-li><a href=/docs/cli-reference/kcp_workspace_use/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docscli-referencekcp_workspace_use><span>kcp workspace use</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docscrd-reference-li><a href=/docs/crd-reference/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docscrd-reference><span>CRD Reference</span></a></li></ul></li></ul></nav></div></aside><aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none"><div class="td-page-meta ml-2 pb-1 pt-2 mb-0"><a href=https://github.com/kcp-dev/kcp-dev.github.io/tree/main/docs/content/en/docs/Concepts/investigations/self-service-policy.md class=td-page-meta--view target=_blank rel=noopener><i class="fa fa-file-alt fa-fw"></i> View page source</a>
<a href=https://github.com/kcp-dev/kcp-dev.github.io/edit/main/docs/content/en/docs/Concepts/investigations/self-service-policy.md class=td-page-meta--edit target=_blank rel=noopener><i class="fa fa-edit fa-fw"></i> Edit this page</a>
<a href="https://github.com/kcp-dev/kcp-dev.github.io/new/main/docs/content/en/docs/Concepts/investigations/self-service-policy.md?filename=change-me.md&value=---%0Atitle%3A+%22Long+Page+Title%22%0AlinkTitle%3A+%22Short+Nav+Title%22%0Aweight%3A+100%0Adescription%3A+%3E-%0A+++++Page+description+for+heading+and+indexes.%0A---%0A%0A%23%23+Heading%0A%0AEdit+this+template+to+create+your+new+page.%0A%0A%2A+Give+it+a+good+name%2C+ending+in+%60.md%60+-+e.g.+%60getting-started.md%60%0A%2A+Edit+the+%22front+matter%22+section+at+the+top+of+the+page+%28weight+controls+how+its+ordered+amongst+other+pages+in+the+same+directory%3B+lowest+number+first%29.%0A%2A+Add+a+good+commit+message+at+the+bottom+of+the+page+%28%3C80+characters%3B+use+the+extended+description+field+for+more+detail%29.%0A%2A+Create+a+new+branch+so+you+can+preview+your+new+file+and+request+a+review+via+Pull+Request.%0A" class=td-page-meta--child target=_blank rel=noopener><i class="fa fa-edit fa-fw"></i> Create child page</a>
<a href="https://github.com/kcp-dev/kcp-dev.github.io/issues/new?title=Self-service%20policy" class=td-page-meta--issue target=_blank rel=noopener><i class="fas fa-tasks fa-fw"></i> Create documentation issue</a>
<a href=https://github.com/kcp-dev/kcp/issues/new class=td-page-meta--project-issue target=_blank rel=noopener><i class="fas fa-tasks fa-fw"></i> Create project issue</a></div><div class=td-toc><nav id=TableOfContents><ul><li><a href=#goal>Goal</a></li><li><a href=#problem>Problem</a></li><li><a href=#approach>Approach</a></li><li><a href=#areas-of-investigation>Areas of investigation</a></li><li><a href=#progress>Progress</a><ul><li><a href=#simple-example-of-a-policy-implementation>Simple example of a policy implementation</a></li><li><a href=#describe-a-complicated-policy-implementation>Describe a complicated policy implementation</a></li></ul></li></ul></nav></div></aside><main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main><nav aria-label=breadcrumb class=td-breadcrumbs><ol class=breadcrumb><li class=breadcrumb-item><a href=http://kcp-dev.github.io/docs/>Documentation</a></li><li class=breadcrumb-item><a href=http://kcp-dev.github.io/docs/concepts/>kcp Concepts</a></li><li class=breadcrumb-item><a href=http://kcp-dev.github.io/docs/concepts/investigations/>Investigations</a></li><li class="breadcrumb-item active" aria-current=page><a href=http://kcp-dev.github.io/docs/concepts/investigations/self-service-policy/ aria-disabled=true class="btn-link disabled">Self-service policy</a></li></ol></nav><div class=td-content><h1>Self-service policy</h1><div class=lead>Improve consistency and reusability of self-service and policy enforcement across multiple Kubernetes clusters.</div><header class=article-meta></header><h2 id=goal>Goal</h2><p>Improve consistency and reusability of self-service and policy enforcement across multiple Kubernetes clusters.</p><blockquote><p>Just like Kubernetes standardized deploying containerized software onto a small set of machines, we want to standardize self-service of application focused integration across multiple teams with organizational control.</p></blockquote><p>Or possibly</p><blockquote><p>Kubernetes standardized deploying applications into chunks of capacity. We want to standardize isolating and integrating application teams across organizations, and to do that in a way that makes applications everywhere more secure.</p></blockquote><h2 id=problem>Problem</h2><p>A key component of large Kubernetes clusters is shared use, where the usage pattern might vary from externally controlled (via gitops / existing operational tools) to a permissive self-service model. The most common partitioning model in Kubernetes is namespace, and the second most common model is cluster.</p><p>Self-service is currently limited by the set of resources that are namespace scoped for the former, and by the need to parameterize and configure multiple clusters consistently for the latter. Cluster partitioning can uniquely offer distinct sets of APIs to consumers. Namespace partitioning is cheap up until the scale limits of the cluster (~10k namespaces), while cluster partitioning usually has a fixed cost per cluster in operational and resource usage, as well as lower total utilization.</p><p>Once a deployment reaches the scale limit of a single cluster, operators often need to redefine their policies and tools to work in a multi-cluster environment. Many large deployers create their own systems for managing self-service policy above their clusters and leverage individual subsystems within Kubernetes to accomplish those goals.</p><h2 id=approach>Approach</h2><p>The logical cluster concept offers an opportunity to allow self-service at a cluster scope, with the effective cost of the namespace partitioning scheme. In addition, the separation of workload at control plane (kcp) and data plane (physical cluster) via <a href=/docs/concepts/investigations/transparent-multi-cluster/>transparent multi-cluster</a>
or similar schemes allows strong policy control of what configuration is allowed (reject early), restriction of the supported API surface area for workload APIs (limit / control certain fields like pod security), and limits the access of individual users to the underlying infra (much like clusters limit access to nodes).</p><p>It should be possible to accomplish current self-service namespace and cluster partitioning via the logical cluster mechanism + policy enforcement, and to incentivize a wider range of &ldquo;external policy control&rdquo; users to adopt self-service via stronger control points and desirable use cases (multi-cluster resiliency for apps).</p><p>We want to enable concrete points of injection of policy that are difficult today in Kubernetes tenancy:</p><ol><li>The acquisition of a new logical cluster with <strong>capabilities</strong> and <strong>constraints</strong></li><li>How the APIs in a logical cluster are <strong>transformed</strong> to an underlying cluster</li><li>How to manage the evolution of APIs available to a logical cluster over time</li><li>New hierarchal policy options are more practical since different logical clusters can have different APIs</li></ol><h2 id=areas-of-investigation>Areas of investigation</h2><ul><li>Using logical clusters as a mechanism for tenancy, but having a backing implementation that can change<ul><li>I.e. materialize logical clusters as an API resource in a separate logical cluster</li><li>Or implementing logical clusters outside the system and having the kcp server implementation be a shim</li><li>Formal &ldquo;policy module&rdquo; implementations that can be plugged into a minimal API server while using logical cluster impl</li></ul></li><li>Catalog the set of tenancy constructs in use in Kube<ul><li>Draw heavily on sig-multitenancy explorations - work done by <a href>cluster api nested</a>
, <a href>virtual clusters</a>
, namespace tenancy, and <a href>hierarchal namespace</a>
designs</li><li>Look at reference materials created by large organizational adopters of Kube</li></ul></li><li>Consider making &ldquo;cost&rdquo; a first class control concept alongside quota and RBAC (i.e. a service load balancer &ldquo;costs&rdquo; $1, whereas a regular service costs $0.001)<ul><li>Could this more effectively limit user action</li></ul></li><li>Explore hierarchy of policy - if logical clusters are selectable by label, could you have composability of policy using controllers</li><li>Explore using implicit resources<ul><li>i.e. within a logical cluster have all resources of type RoleBinding be fetched from two sources - within the cluster, and in a separate logical cluster - and merged, so that you could change the global source and watches would still fire</li><li>Impliict resources have risk though - no way to &ldquo;lock&rdquo; them so the consequences of an implicit change can be expensive</li></ul></li></ul><h2 id=progress>Progress</h2><h3 id=simple-example-of-a-policy-implementation>Simple example of a policy implementation</h3><p>Building out an example flow that goes from creating a logical cluster resource that results in a logical cluster being accessible to client, with potential hook points for deeper integration.</p><h3 id=describe-a-complicated-policy-implementation>Describe a complicated policy implementation</h3><p>An example hosted multi-tenant service with billing, organizational policy, and tenancy isolation.</p></div></main></div></div><footer class="bg-dark py-5 row d-print-none"><div class="container-fluid mx-sm-5"><div class=row><div class="col-6 col-sm-4 text-xs-center order-sm-2"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="User mailing list" aria-label="User mailing list"><a class=text-white target=_blank rel=noopener href=https://groups.google.com/g/kcp-users aria-label="User mailing list"><i class="fa fa-envelope"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Twitter aria-label=Twitter><a class=text-white target=_blank rel=noopener href=https://twitter.com/kcp aria-label=Twitter><i class="fab fa-twitter"></i></a></li></ul></div><div class="col-6 col-sm-4 text-right text-xs-center order-sm-3"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub><a class=text-white target=_blank rel=noopener href=https://github.com/kcp-dev/kcp aria-label=GitHub><i class="fab fa-github"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Slack aria-label=Slack><a class=text-white target=_blank rel=noopener href=https://kubernetes.slack.com/archives/C021U8WSAFK aria-label=Slack><i class="fab fa-slack"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="Developer mailing list" aria-label="Developer mailing list"><a class=text-white target=_blank rel=noopener href=https://groups.google.com/g/kcp-dev aria-label="Developer mailing list"><i class="fa fa-envelope"></i></a></li></ul></div><div class="col-12 col-sm-4 text-center py-2 order-sm-2"><small class=text-white>&copy; 2022 The kcp Authors All Rights Reserved</small></div></div></div></footer></div><script src=https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js integrity=sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.min.js integrity="sha512-UR25UO94eTnCVwjbXozyeVd6ZqpaAE9naiEUBK/A+QDbfSTQFhPGj5lOR6d8tsgbBk84Ggb5A3EkjsOgPRPcKA==" crossorigin=anonymous></script>
<script src=/js/tabpane-persist.js></script>
<script src=/js/main.min.ba3bfc0811f5d495647f814aadc74b292c03300cc581e5cdb379e6ad54046b52.js integrity="sha256-ujv8CBH11JVkf4FKrcdLKSwDMAzFgeXNs3nmrVQEa1I=" crossorigin=anonymous></script></body></html>